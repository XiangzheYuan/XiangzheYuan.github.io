---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/default",
    "theme/dark",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands",
    "vendor/magnific-popup/magnific-popup"
;

/* ========== Publications 横向卡片：重置旧规则，拉满宽度 ========== */

/* 1) 不再用网格，整行展示 */
.entries-grid {
  display: block;           /* 关闭 grid 布局 */
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}

/* 2) 让每个 item 占满一行，并留出间距 */
.list__item, .grid__item {
  width: 100%;
  margin: 0 0 1.25rem 0;
}

/* 3) 旧的卡片背景只给“非横向”的保留，避免窄柱背景 */
.archive__item:not(.horizontal) {
  padding: 1rem;
  border-radius: 12px;
  background: rgba(255,255,255,0.04);
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
}

/* 4) 横向卡片：整行、左右排布 */
.archive__item.horizontal {
  width: 100%;
  display: flex;
  gap: 1.25rem;
  align-items: flex-start;

  /* 独立的卡片背景写在这里（覆盖旧规则） */
  padding: 1rem;
  border-radius: 12px;
  background: rgba(255,255,255,0.04);
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
}

/* 5) 左侧缩略图固定宽度，右侧内容自适应 */
.archive__item.horizontal .archive__item-teaser {
  flex: 0 0 300px;   /* 左边给一个合适的宽度，例如 300px，可按需要调 */
}

.archive__item.horizontal .archive__item-teaser img {
  width: 100%;
  height: auto;      /* 自动高度，保持比例 */
  max-height: 220px; /* 可选：限制图片不要太高 */
  object-fit: contain; /* 保证整张图显示，不会被裁剪 */
  border-radius: 10px;
}


/* 6) 右侧正文区域占满剩余宽度 */
.archive__item.horizontal .archive__item-body { 
  flex: 1 1 auto;
  min-width: 0;                /* 防止超长标题把布局撑坏 */
}

/* 7) 标题样式（可按需调大） */
.archive__item.horizontal .archive__item-title {
  font-size: 1.25rem;
  line-height: 1.35;
  margin: 0 0 .5rem 0;
}
.archive__item.horizontal .archive__item-title a {
  text-decoration: none;
  border-bottom: none;
}
.archive__item.horizontal .archive__item-title a:hover { text-decoration: underline; }

/* 8) 下载按钮区 */
.pub-actions { display:flex; flex-wrap:wrap; gap:.5rem; margin-top:.25rem; }
.pub-actions a {
  display:inline-block; padding:.45rem .7rem; border-radius:8px;
  background:rgba(255,255,255,.06); text-decoration:none; border-bottom:none;
  transition:background .2s ease, transform .05s ease;
}
.pub-actions a:hover { background:rgba(255,255,255,.10); }
.pub-actions a:active { transform: translateY(1px); }

/* 9) 移动端改为上下堆叠，避免挤压 */
@media (max-width: 700px) {
  .archive__item.horizontal { flex-direction: column; }
  .archive__item.horizontal .archive__item-teaser { 
    flex: 0 0 auto; width: 100%;
  }
  .archive__item.horizontal .archive__item-teaser img { height: 180px; }
}
